# -*- coding: cp1251 -*-
import random

# Глобальные переменные
weapons = ['меч', 'лук', 'посох']
enemies = {'гоблин': 20, 'орк': 30, 'дракон': 100}
inventory = set()

def print_inventory():
    print("Ваш инвентарь:")
    for item in inventory:
        print(item)

def fight(enemy):
    print(f"Вы встретили {enemy}!")
    player_hp = 100
    enemy_hp = enemies[enemy]
    print(f"Ваше здоровье: {player_hp}")
    print(f"Здоровье {enemy}: {enemy_hp}")
    weapon = random.choice(weapons)
    print(f"Вам достался {weapon}")
    while player_hp > 0 and enemy_hp > 0:
        action = input("Выберите действие (атаковать / убежать): ")
        if action == "атаковать":
            damage = random.randint(10, 20)
            enemy_hp -= damage
            print(f"Вы нанесли {damage} единиц урона")
            if enemy_hp > 0:
                damage = random.randint(5, 15)
                player_hp -= damage
                print(f"{enemy} нанес вам {damage} единиц урона")
        elif action == "убежать":
            if random.random() < 0.5:
                print("Вы успешно убежали!")
                return
            else:
                print("Попытка убежать провалилась!")
                damage = random.randint(5, 15)
                player_hp -= damage
                print(f"{enemy} нанес вам {damage} единиц урона")
        else:
            print("Неверное действие!")
    if player_hp <= 0:
        print("Вы проиграли!")
    else:
        print("Вы победили!")
        inventory.add(weapon)
        print(f"Вы получили {weapon}")

def start_game():
    print("Добро пожаловать в игру!")
    print("Вы - герой, который очутился в темном лесу.")
    print("Ваша задача - добраться до дракона и победить его.")
    print("Удачи!")
    print()
    while True:
        action = input("Выберите действие (пойти дальше / посмотреть инвентарь / выход): ")
        if action == "пойти дальше":
            enemy = random.choice(list(enemies.keys()))
            fight(enemy)
        elif action == "посмотреть инвентарь":
            print_inventory()
        elif action == "выход":
            print("Спасибо за игру!")
            break
        else:
            print("Неверное действие!")

# Запуск игры
start_game()
